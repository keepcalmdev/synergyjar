(function(e){"use strict";e(document).ready(function(){function t(t){return!e.trim(t.html())}window.hasOwnProperty("yz_disable_niceselect")||!e('.youzer select:not([multiple="multiple"])').get(0)&&!e(".logy select").get(0)||(e("<script/>",{rel:"text/javascript",src:Youzer.assets+"js/jquery.nice-select.min.js"}).appendTo("head"),e('.youzer select:not([multiple="multiple"])').niceSelect(),e(".logy select").not('[multiple="multiple"]').niceSelect()),e(".youzer textarea").get(0)&&(e("<script/>",{rel:"text/javascript",src:Youzer.assets+"js/autosize.min.js"}).appendTo("head"),yz_autosize(e(".youzer textarea"))),e(".yzw-form-show-all").on("click",function(t){e(".yzw-form-show-all").fadeOut(function(){e(".yz-wall-opts-item").fadeIn(),e(this).remove()})}),e(".widget_bp_core_sitewide_messages").each(function(){t(e(this).find(".bp-site-wide-message"))&&e(this).remove()}),e(".youzer .group-members-list .action").each(function(){t(e(this))&&e(this).remove()}),e("#subnav ul").each(function(){t(e(this))&&e(this).parent().remove()}),t(e(".yz-group-manage-members-search"))&&e(".yz-group-manage-members-search").remove(),e("#close-notice").on("click",function(t){e(this).closest("#sitewide-notice").fadeOut()}),e(document).on("click",".yz-item .yz-show-item-tools",function(t){e(this).toggleClass("yz-close-item-tools"),e(this).closest(".yz-item").find(".yz-item-tools").fadeToggle()}),e.yz_get_var_in_url=function(e,t){for(var i=e.split("?"),o=i[1].split("&"),s=0;s<o.length;s++){var a=o[s].split("=");if(a[0]==t)return a[1]}return""},e(".field-visibility-settings .radio input[type=radio]").change(function(){var t=e(this).parent().find(".field-visibility-text").text();e(this).closest(".field-visibility-settings").prev(".field-visibility-settings-toggle").find(".current-visibility-level").text(t)}),e("body").append('<div class="youzer-dialog"></div>'),e.yz_DialogMsg=function(t,i){var o,s,a,n;"error"==t?s='<div class="youzer-dialog-title">'+Youzer.ops+"</div>":"success"==t?s='<div class="youzer-dialog-title">'+Youzer.done+"</div>":"info"==t&&(s=""),"error"==t?a=Youzer.gotit:"success"==t?a=Youzer.thanks:"info"==t&&(a=Youzer.cancel),"error"==t?o='<i class="fas fa-exclamation-triangle"></i>':"info"==t?o='<i class="fas fa-info-circle"></i>':"success"==t&&(o='<i class="fas fa-check"></i>'),n="info"==t?'<li><a class="yz-confirm-dialog">'+Youzer.confirm+"</a></li>":"";var l='<div class="yz-'+t+'-dialog"><div class="youzer-dialog-container"><div class="yz-dialog-header">'+o+'</div><div class="youzer-dialog-msg"><div class="youzer-dialog-desc">'+s+'<div class="yz-dialog-msg-content">'+i+'</div></div></div><ul class="yz-dialog-buttons">'+n+'<li><a class="yz-close-dialog">'+a+"</a></li></ul></div></div>";e(".youzer-dialog").empty().append(l),e(".youzer-dialog").addClass("yz-is-visible"),"Please select a topic to post in."===i&&e("#whats-new-post-in-box .nice-select").css("border","2px solid red")},e(".youzer-dialog").on("click",function(t){(e(t.target).is(".yz-close-dialog")||e(t.target).is(".youzer-dialog"))&&(t.preventDefault(),e(this).removeClass("yz-is-visible"))}),e(".youzer-modal").on("click",function(t){(e(t.target).is(".yz-close-dialog")||e(t.target).is(".youzer-modal"))&&(t.preventDefault(),e(this).removeClass("yz-is-visible"))}),e("body").on("click",".yz-close-dialog",function(t){t.preventDefault(),e(".youzer-dialog,.youzer-modal").removeClass("yz-is-visible")}),e(".yz-popup-login .logy-form-header").append('<i class="fas fa-times yz-close-login"></i>'),e('a[data-show-youzer-login="true"],.yz-show-youzer-login-popup a').on("click",function(t){"off"!=Youzer.login_popup&&(t.preventDefault(),e(".yz-popup-login").addClass("yz-is-visible"))}),e(".yz-popup-login").on("click",function(t){(e(t.target).is(".yz-close-login")||e(t.target).is(".yz-popup-login"))&&(t.preventDefault(),e(this).removeClass("yz-is-visible"))}),e(".yz-close-login").on("click",function(t){t.preventDefault(),e(".yz-popup-login").removeClass("yz-is-visible")}),e(".logy-login-form").on("submit",function(t){if("off"!=Youzer.ajax_enabled){e(this).addClass("yz-authenticating");var i,o,s,a=e(this);s=e(this).find('button[type="submit"]'),i=s.find(".logy-button-title").text(),o=s.find(".logy-button-icon i").attr("class"),s.find(".logy-button-title").text(Youzer.authenticating),s.find(".logy-button-icon i").attr("class","fas fa-spinner fa-spin");var n={action:"yz_ajax_login",username:e(this).find('input[name="log"]').val(),password:e(this).find('input[name="pwd"]').val(),remember:e(this).find('input[name="rememberme"]').val(),redirect_to:e(this).find('input[name="yz_redirect_to"]').val(),security:e(this).find('input[name="yz_ajax_login_nonce"]').val()};e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:n,success:function(t){1==t.loggedin?(s.find(".logy-button-title").text(t.message),s.find(".logy-button-icon i").attr("class","fas fa-check"),document.location.href=t.redirect_url):(a.removeClass("yz-authenticating"),t.error_code&&"incorrect_password"==t.error_code?a.find('input[name="pwd"]').val(""):a.find('input[name="log"],input[name="pwd"]').val(""),s.find(".logy-button-title").text(i),s.find(".logy-button-icon i").attr("class",o),e.yz_DialogMsg("error",t.message))}}),t.preventDefault()}}),e(".yz-responsive-menu").click(function(t){t.preventDefault(),e(".yz-settings-area").hasClass("open-settings-menu")&&(e(".yz-settings-area").toggleClass("open-settings-menu"),e(".yz-settings-area .yz-settings-menu").fadeOut()),e(this).toggleClass("is-active"),e(".yz-profile-navmenu").fadeToggle(600)}),e(document).on("click",".yz-wall-modal-close",function(t){t.preventDefault(),e(".yz-wall-modal").removeClass("yz-wall-modal-show"),e(".yz-wall-modal-overlay").fadeOut(600),setTimeout(function(){e(".yz-wall-modal").remove()},500)}),e.yz_isJSON=function(e){if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch(e){return!1}},e(document).on("click",".yz-addtocart-ajax",function(t){t.preventDefault();var i=e(this),o=i.find(".yz-btn-icon i").attr("class"),s=i.closest("form.cart"),a=s.find("input[name=variation_id]").val()||0,n={action:"woocommerce_ajax_add_to_cart",product_id:i.data("yz-product-id"),product_sku:"",quantity:1,variation_id:a};return e(document.body).trigger("adding_to_cart",[i,n]),e.ajax({type:"post",url:Youzer.ajax_url,data:n,beforeSend:function(e){i.removeClass("added").addClass("loading")},complete:function(e){i.addClass("added").removeClass("loading"),i.find(".yz-btn-icon i").attr("class","fas fa-check"),setTimeout(function(){i.find(".yz-btn-icon i").attr("class",o).hide().fadeIn()},1e3)},success:function(t){t.error&t.product_url?window.location=t.product_url:e(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash])}}),!1}),e(document).on("click",".yz-modal-close, .yz-modal-close-icon",function(t){t.preventDefault(),e(".yz-modal-overlay").fadeOut(500);e(this).closest(".yz-modal").fadeOut(300,function(){e(this).remove()})}),e(document).keyup(function(t){e(".yz-modal-show")[0]&&27===t.keyCode&&e(".yz-modal-close").trigger("click")}),e(document).mouseup(function(t){e(".yz-modal-overlay").is(t.target)&&e(".yz-modal-show")[0]&&e(".yz-modal-close").trigger("click")});var i,o=e.fn.append;e.fn.append=function(){return o.apply(this,arguments).trigger("append")},e('<div class="yz-mobile-nav yz-inline-mobile-nav"><div class="yz-mobile-nav-item yz-show-tab-menu"><div class="yz-mobile-nav-container"><i class="fas fa-bars"></i><a>'+Youzer.menu_title+"</a></div></div></div>").insertBefore(e(".yz-profile div.item-list-tabs,.yz-group div.item-list-tabs")),e(window).on("resize",function(t){var o;clearTimeout(i),i=setTimeout(function(){o=!e.browser.mobile||e(window).width()!=app.size.window_width,o&&e(window).width()>768&&e(".item-list-tabs, .item-list-tabs ul, #yz-directory-search-box, #members-order-select,#groups-order-select,.yz-profile-navmenu").fadeIn().removeAttr("style")},250)}),e(".yz-show-tab-menu").on("click",function(t){t.preventDefault(),e(".item-list-tabs").fadeToggle()}),e(".yz-tool-btn").on("click",function(t){t.preventDefault(),e(this).hasClass("yz-verify-btn")&&!e("body").hasClass("yz-verify-script-loaded")&&(e("body").addClass("yz-verify-script-loaded"),e("<script/>",{rel:"text/javascript",src:Youzer.assets+"js/yz-verify-user.min.js"}).appendTo("head"),e(this).trigger("click")),e(this).hasClass("yz-review-btn")&&!e("body").hasClass("yz-review-script-loaded")&&(e("body").addClass("yz-review-script-loaded"),e("<script/>",{rel:"text/javascript",src:Youzer.assets+"js/yz-reviews.min.js"}).appendTo("head"),e(this).trigger("click"))}),e(document).on("click",".youzer a[data-lightbox]",function(t){window.hasOwnProperty("yz_disable_lightbox")?t.preventDefault():(t.preventDefault(),e("body").hasClass("yz-lightbox-script-loaded")||(e("body").addClass("yz-lightbox-script-loaded"),e("<script/>",{rel:"text/javascript",src:Youzer.assets+"js/lightbox.min.js"}).appendTo("head"),e("<link/>",{rel:"stylesheet",href:Youzer.assets+"css/lightbox.min.css"}).appendTo("head"),e(this).trigger("click")))})})})(jQuery);